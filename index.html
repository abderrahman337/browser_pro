<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href="manifest.json">

    <title>Redirecting...</title>
</head>
<body>
    <h1>Redirecting you to your browser...</h1>
    <script>
        // Replace with the actual URL
        const targetURL = "https://www.tiktok.com/@f.dave24?_t=8pFZgscl6K9&_r=1";

        // Detect user agent
        const userAgent = navigator.userAgent.toLowerCase();
        const isInstagram = userAgent.includes('instagram');
        const isTikTok = userAgent.includes('tiktok');
        const isIOS = /iphone|ipad|ipod/.test(userAgent);
        const isAndroid = /android/.test(userAgent);

        // Function to open the link in the default browser
        function openInBrowser(url) {
            if (isIOS) {
                // Use universal link for iOS
                window.location.href = url;
            } else if (isAndroid) {
                // Use intent for Android to open in Chrome or default browser
                window.location.href = `intent://${url.replace('https://', '')}#Intent;scheme=https;package=com.android.chrome;end`;
            } else {
                // Fallback to direct link
                window.location.href = url;
            }
        }

        // Redirect logic
        if (isInstagram || isTikTok) {
            setTimeout(() => {
                openInBrowser(targetURL);
            }, 500); // Delay to ensure the redirection works smoothly
        } else {
            // Redirect directly if not in Instagram or TikTok
            window.location.href = targetURL;
        }

        // Register service worker (optional)
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js').then(() => {
                console.log('Service Worker Registered');
            });
        }
    </script>
</body>
</html>
